"use strict";function niceHoverEfect(e,t,o){var n=t-getCoordsOnPage(e).left,r=o-getCoordsOnPage(e).top;e.style.backgroundImage="radial-gradient(circle farthest-side at "+n+"px "+r+"px, gold, transparent)",e.onmouseout=function(){e.style.backgroundImage=""}}function copyProportions(e){var t=document.querySelector(".event-show-more");t.style.width=getComputedStyle(e).width.slice(),t.style.height=getComputedStyle(e).height.slice()}function animate(e){var t=performance.now();requestAnimationFrame(function o(n){var r=(n-t)/e.duration;r>1&&(r=1);var i=e.timing(r);e.draw(i),1>r&&requestAnimationFrame(o)})}function getCoordsOnPage(e){var t=e.getBoundingClientRect(),o=document.documentElement,n=document.body,r=window.pageYOffset||o.scrollTop||n.scrollTop,i=window.pageXOffset||o.scrollLeft||n.scrollLeft,s=o.clientTop||n.clientTop||0,l=o.clientLeft||n.clientLeft||0;return{top:t.top+r-s,left:t.left+i-l,bottom:t.bottom+r-s,right:t.right+i-l}}!function(){Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}(),function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector)}(),window.onload=function(){if(document.documentElement.clientWidth>=899){var e,t=null;document.querySelectorAll(".works-item").forEach(function(e){e.addEventListener("mouseover",function(){var e=event.target;if(e.closest(".works-item")&&!t){for(;!e.classList.contains("works-item");)e=e.parentElement;if(t=e,!t.querySelector("#item-overlay")){var o=document.createElement("div");o.id="item-overlay",t.appendChild(o)}t.classList.toggle("js-show-description"),setTimeout(function(){t.querySelector("#item-overlay").classList.add("item-overlay")},50)}})}),document.querySelectorAll(".works-item").forEach(function(e){e.addEventListener("mouseout",function(){var e=event.target,o=event.relatedTarget;return null!=e&&t?o?void(o.closest(".works-item")||(e=t,e.classList.toggle("js-show-description"),setTimeout(function(){e.removeChild(e.querySelector("#item-overlay"))},200),t=null)):(e=t,e.classList.toggle("js-show-description"),setTimeout(function(){e.removeChild(e.querySelector("#item-overlay"))},200),void(t=null)):void 0})}),document.addEventListener("mousemove",function(){var o=event.target,n=event.clientX+window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft,r=event.clientY+window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(o.closest(".works-item")){var i=t.querySelector("#item-overlay"),s=getCoordsOnPage(t);n-s.left<r-s.top&&n-s.left<s.bottom-r&&("l-to-r"!==e&&i.classList.remove(e),i.classList.add("l-to-r"),e="l-to-r"),r-s.top<n-s.left&&r-s.top<s.right-n&&("t-to-b"!==e&&i.classList.remove(e),i.classList.add("t-to-b"),e="t-to-b"),s.bottom-r<n-s.left&&s.bottom-r<s.right-n&&("b-to-t"!==e&&i.classList.remove(e),i.classList.add("b-to-t"),e="b-to-t"),s.right-n<r-s.top&&s.right-n<s.bottom-r&&("r-to-l"!==e&&i.classList.remove(e),i.classList.add("r-to-l"),e="r-to-l")}o.closest(".js-hover")&&niceHoverEfect(o,n,r)})}document.addEventListener("click",function(){if(event.target.closest(".menu-toggle")){var e=document.querySelector(".main-menu");e.classList.contains("js-menu_hide")?(e.classList.remove("js-menu_hide"),document.querySelector(".menu-toggle").classList.add("offset")):(e.classList.add("js-menu_hide"),document.querySelector(".menu-toggle").classList.remove("offset"))}else event.target.closest(".main-menu")||(document.querySelector(".main-menu").classList.add("js-menu_hide"),document.querySelector(".menu-toggle").classList.remove("offset"))}),copyProportions(document.querySelector(".event-img"))},window.addEventListener("resize",function(){copyProportions(document.querySelector(".event-img"))}),function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.requestAnimationFrame=e}(),function(){document.addEventListener("click",function(){if(event.target.closest('[href^="#"]')){event.preventDefault();var e=document.documentElement,t=event.target.getAttribute("href").slice(1),o=document.getElementById(t).getBoundingClientRect().top,n=e.scrollTop;animate({duration:500,timing:function(e){return e},draw:function(t){t=100*t,e.scrollTop=n+t*(o/100)}})}})}();